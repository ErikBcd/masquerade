<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `client` mod in crate `masquerade_proxy`."><title>masquerade_proxy::connect_ip::client - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="masquerade_proxy" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0-nightly (eff09483c 2024-08-22)" data-channel="nightly" data-search-js="search-ef54e092fea9c776.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-cb0df477c2d67d00.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../masquerade_proxy/index.html">masquerade_<wbr>proxy</a><span class="version">0.2.1</span></h2></div><h2 class="location"><a href="#">Module client</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In masquerade_<wbr>proxy::<wbr>connect_<wbr>ip</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">masquerade_proxy</a>::<wbr><a href="../index.html">connect_ip</a>::<wbr><a class="mod" href="#">client</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/masquerade_proxy/connect_ip/client.rs.html#1-1317">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ClientConfig.html" title="struct masquerade_proxy::connect_ip::client::ClientConfig">Client<wbr>Config</a></div><div class="desc docblock-short">Used for reading and applying user defined configurations.
Should be read in at start of client.</div></li><li><div class="item-name"><a class="struct" href="struct.ConnectIPClient.html" title="struct masquerade_proxy::connect_ip::client::ConnectIPClient">ConnectIP<wbr>Client</a></div></li><li><div class="item-name"><a class="struct" href="struct.ConnectIpInfo.html" title="struct masquerade_proxy::connect_ip::client::ConnectIpInfo">Connect<wbr>IpInfo</a></div><div class="desc docblock-short">Infos about the CONNECT-IP session
Includes converters for local ipâ€™s to destination ipâ€™s (and the other way around)</div></li><li><div class="item-name"><a class="struct" href="struct.IpMessage.html" title="struct masquerade_proxy::connect_ip::client::IpMessage">IpMessage</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Holds an ip packet and its direction</div></li><li><div class="item-name"><a class="struct" href="struct.QuicStream.html" title="struct masquerade_proxy::connect_ip::client::QuicStream">Quic<wbr>Stream</a></div><div class="desc docblock-short">Useful for holding some basic data for a HTTP3 Stream</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Direction.html" title="enum masquerade_proxy::connect_ip::client::Direction">Direction</a></div><div class="desc docblock-short">Information about packets, wether they are
to be sent to the server or to the client.
Generally, packets that were received from the server (from the QUIC connection)
are labeled as ToClient, and packets from the TUN device as ToServer</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.generate_cid_and_reset_token.html" title="fn masquerade_proxy::connect_ip::client::generate_cid_and_reset_token">generate_<wbr>cid_<wbr>and_<wbr>reset_<wbr>token</a></div><div class="desc docblock-short">Generate a new pair of Source Connection ID and reset token.</div></li><li><div class="item-name"><a class="fn" href="fn.handle_ip_connect_stream.html" title="fn masquerade_proxy::connect_ip::client::handle_ip_connect_stream">handle_<wbr>ip_<wbr>connect_<wbr>stream</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Initiates the CONNECT-IP request.
Arguments:
* http3_sender: To send the http3 requests to
* response_receiver: Receives responses on sent http3 requests from QUIC handler
* config: Client configuration determined by user</div></li><li><div class="item-name"><a class="fn" href="fn.ip_dispatcher_t.html" title="fn masquerade_proxy::connect_ip::client::ip_dispatcher_t">ip_<wbr>dispatcher_<wbr>t</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Receives ready-to-send ip packets and then sends them
to the TUN device.
Arguments:
* ip_dispatch_reader: Waits for messages from ip handler thread
* writer: Writes messages to the TUN device</div></li><li><div class="item-name"><a class="fn" href="fn.ip_handler_t.html" title="fn masquerade_proxy::connect_ip::client::ip_handler_t">ip_<wbr>handler_<wbr>t</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Receives IP Packets from rx.
Will then handle these packets accordingly and send messages to quic_dispatcher_t
Arguments:
* ip_recv: Received IPMessage objects from the QUIC side or the TUN receiver
* conn_info_recv: Channel used for sending the connection config from QUIC side
* http3_dispatch: For sending encapsuled IP packets to the QUIC side
* ip_dispatch: For sending IP messages from the QUIC side to the TUN device
* device_addr: Address injected into packets directed to the system</div></li><li><div class="item-name"><a class="fn" href="fn.ip_receiver_t.html" title="fn masquerade_proxy::connect_ip::client::ip_receiver_t">ip_<wbr>receiver_<wbr>t</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Receives raw IP messages from a TUN.the
Will send received messages to the ip_handler_t
Arguments:</div></li><li><div class="item-name"><a class="fn" href="fn.quic_conn_handler.html" title="fn masquerade_proxy::connect_ip::client::quic_conn_handler">quic_<wbr>conn_<wbr>handler</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">A general handler of a quic connection.
Will set up the connection and the connect_ip HTTP/3 connection.
Then receives ip address and route advertisement. Sends these infos to quic_dispatcher
and ip_handler
After that goes into loop, waits for new messages and handles them accordingly.
Sends resulting messages to either ip_handler_t or quic_dispatch_t.</div></li><li><div class="item-name"><a class="fn" href="fn.set_client_ip_and_route.html" title="fn masquerade_proxy::connect_ip::client::set_client_ip_and_route">set_<wbr>client_<wbr>ip_<wbr>and_<wbr>route</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Basic commands for setting up the TUN interface
Will also route the traffic according to the allowedIpâ€™s parameter.</div></li></ul></section></div></main></body></html>